<?php

/**
 * Модуль Выбор панорамных панелей
 * 
 * PHP version 5.5
 * @category Yii
 * @author   Charnou Vitaliy <graffov87@gmail.com>
 */
class PanPanelsSelectionMC extends AbstractModelCalculation
{

    /**
     * Переменная хранит имя класса
     * 
     * @var string 
     */
    public $nameModule = 'PanPanelsSelectionMC';
    
    public $list1 = array(
        'Стандартная' => array(
            'Гладкая' => array(
                "RAL9003"=>array(385=>"",475=>"131740",500=>"131790",525=>"CB000005003",530=>"",550=>"CB000005026",562=>"",575=>"131758",610=>""),
                "RAL9010"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL8014"=>array(385=>"",475=>"131741",500=>"131791",525=>"CB000004998",530=>"",550=>"CB000005022",562=>"",575=>"131759",610=>""),
                "RAL8017"=>array(385=>"",475=>"139645",500=>"CB000006628",525=>"CB000004995",530=>"",550=>"CB000005025",562=>"",575=>"139646",610=>""),
                "RAL3005"=>array(385=>"",475=>"131744",500=>"131802",525=>"CB000005002",530=>"",550=>"CB000005014",562=>"",575=>"131762",610=>""),
                "RAL6005"=>array(385=>"",475=>"131743",500=>"131801",525=>"CB000005000",530=>"",550=>"CB000005017",562=>"",575=>"131761",610=>""),
                "RAL5005"=>array(385=>"",475=>"131742",500=>"131792",525=>"CB000004988",530=>"",550=>"CB000005009",562=>"",575=>"131760",610=>""),
                "RAL1014"=>array(385=>"",475=>"131745",500=>"131803",525=>"CB000004998",530=>"",550=>"CB000005013",562=>"",575=>"131763",610=>""),
                "RAL9006"=>array(385=>"",475=>"131746",500=>"131804",525=>"CB000004990",530=>"",550=>"CB000005027",562=>"",575=>"131764",610=>""),
                "RAL7004"=>array(385=>"",475=>"131747",500=>"131805",525=>"CB000004993",530=>"",550=>"CB000005019",562=>"",575=>"131765",610=>""),
                "3000"=>array(385=>"",475=>"Error",500=>"144083",525=>"CB000006634",530=>"",550=>"CB000006633",562=>"",575=>"Error",610=>""),
                "RAL3000"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL7016"=>array(385=>"",475=>"Error",500=>"CB000006630",525=>"Error",530=>"",550=>"CB000006632",562=>"",575=>"Error",610=>""),
                "ZEBRA"=>array(385=>"",475=>"CB000006635",500=>"CB000006629",525=>"CB000005005",530=>"",550=>"CB000005039",562=>"",575=>"144408",610=>""),
                "GOLDEN OAK"=>array(385=>"",475=>"131752",500=>"131810",525=>"CB000005015",530=>"",550=>"CB000005033",562=>"",575=>"131770",610=>""),
                "MAHAGONY"=>array(385=>"",475=>"137599",500=>"141303",525=>"CB000005010",530=>"",550=>"CB000005035",562=>"",575=>"137603",610=>""),
                "WENGE"=>array(385=>"",475=>"137597",500=>"141304",525=>"CB000005007",530=>"",550=>"CB000005037",562=>"",575=>"137601",610=>""),
                "ALDER"=>array(385=>"",475=>"138002",500=>"141300",525=>"CB000005023",530=>"",550=>"CB000005028",562=>"",575=>"138001",610=>""),
                "FOREST WALNUT"=>array(385=>"",475=>"137596",500=>"141302",525=>"CB000005018",530=>"",550=>"CB000005032",562=>"",575=>"137600",610=>""),
                "DARK OAK"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "НЕСТАНДАРТ"=>array(385=>"",475=>"CB000186081",500=>"CB000186082",525=>"CB000186084",530=>"",550=>"CB000186085",562=>"",575=>"CB000186087",610=>""),
            ),
            'Стукко' => array(
                "RAL9003"=>array(385=>"",475=>"121821",500=>"115379",525=>"CB000004823",530=>"",550=>"CB000004824",562=>"",575=>"121832",610=>""),
                "RAL9010"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL8014"=>array(385=>"",475=>"121822",500=>"115382",525=>"CB000004897",530=>"",550=>"CB000004898",562=>"",575=>"121833",610=>""),
                "RAL8017"=>array(385=>"",475=>"125322",500=>"CB000006486",525=>"CB000004945",530=>"",550=>"CB000004906",562=>"",575=>"125326",610=>""),
                "RAL3005"=>array(385=>"",475=>"121825",500=>"119955",525=>"CB000004940",530=>"",550=>"CB000004909",562=>"",575=>"121836",610=>""),
                "RAL6005"=>array(385=>"",475=>"121824",500=>"119956",525=>"CB000004943",530=>"",550=>"CB000004910",562=>"",575=>"121835",610=>""),
                "RAL5005"=>array(385=>"",475=>"121823",500=>"116940",525=>"CB000004952",530=>"",550=>"CB000004907",562=>"",575=>"121834",610=>""),
                "RAL1014"=>array(385=>"",475=>"121826",500=>"123710",525=>"CB000004937",530=>"",550=>"CB000004908",562=>"",575=>"121837",610=>""),
                "RAL9006"=>array(385=>"",475=>"121827",500=>"116176",525=>"CB000004949",530=>"",550=>"CB000004912",562=>"",575=>"121838",610=>""),
                "RAL7004"=>array(385=>"",475=>"122866",500=>"119954",525=>"CB000004899",530=>"",550=>"CB000004900",562=>"",575=>"122853",610=>""),
                "3000"=>array(385=>"",475=>"Error",500=>"144091",525=>"CB000006488",530=>"",550=>"CB000006489",562=>"",575=>"Error",610=>""),
                "RAL3000"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL7016"=>array(385=>"",475=>"Error",500=>"CB000006484",525=>"CB000004932",530=>"",550=>"Error",562=>"",575=>"Error",610=>""),
                "ZEBRA"=>array(385=>"",475=>"147430",500=>"CB000006487",525=>"CB000004962",530=>"",550=>"CB000006490",562=>"",575=>"CB000006491",610=>""),
                "GOLDEN OAK"=>array(385=>"",475=>"122276",500=>"132839",525=>"CB000004925",530=>"",550=>"CB000004918",562=>"",575=>"122278",610=>""),
                "MAHAGONY"=>array(385=>"",475=>"137774",500=>"140499",525=>"CB000004930",530=>"",550=>"CB000004921",562=>"",575=>"137778",610=>""),
                "WENGE"=>array(385=>"",475=>"137772",500=>"140500",525=>"CB000004934",530=>"",550=>"CB000004922",562=>"",575=>"137776",610=>""),
                "ALDER"=>array(385=>"",475=>"137970",500=>"140496",525=>"CB000004919",530=>"",550=>"CB000004914",562=>"",575=>"137971",610=>""),
                "FOREST WALNUT"=>array(385=>"",475=>"137771",500=>"140498",525=>"CB000004924",530=>"",550=>"CB000004916",562=>"",575=>"137775",610=>""),
                "DARK OAK"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "НЕСТАНДАРТ"=>array(385=>"",475=>"CB000184601",500=>"CB000184798",525=>"CB000184799",530=>"",550=>"CB000184800",562=>"",575=>"CB000184801",610=>""),
            ),
            'Под дерево' => array(
                "RAL9003"=>array(385=>"",475=>"121963",500=>"15470",525=>"CB000005375",530=>"",550=>"CB000005357",562=>"",575=>"121969",610=>""),
                "RAL9010"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL8014"=>array(385=>"",475=>"121966",500=>"15473",525=>"CB000005378",530=>"",550=>"CB000005360",562=>"",575=>"121970",610=>""),
                "RAL8017"=>array(385=>"",475=>"129384",500=>"CB000006664",525=>"CB000005379",530=>"",550=>"CB000005361",562=>"",575=>"129385",610=>""),
                "RAL3005"=>array(385=>"",475=>"121964",500=>"15471",525=>"CB000005376",530=>"",550=>"CB000005358",562=>"",575=>"121974",610=>""),
                "RAL6005"=>array(385=>"",475=>"121965",500=>"15472",525=>"CB000005377",530=>"",550=>"CB000005359",562=>"",575=>"121972",610=>""),
                "RAL5005"=>array(385=>"",475=>"121968",500=>"106838",525=>"CB000005387",530=>"",550=>"CB000005364",562=>"",575=>"121971",610=>""),
                "RAL1014"=>array(385=>"",475=>"121962",500=>"123701",525=>"CB000005374",530=>"",550=>"CB000005356",562=>"",575=>"121975",610=>""),
                "RAL9006"=>array(385=>"",475=>"121967",500=>"16551",525=>"CB000005385",530=>"",550=>"CB000005363",562=>"",575=>"121976",610=>""),
                "RAL7004"=>array(385=>"",475=>"122867",500=>"118460",525=>"CB000005381",530=>"",550=>"CB000005362",562=>"",575=>"122868",610=>""),
                "3000"=>array(385=>"",475=>"144027",500=>"144096",525=>"CB000006671",530=>"",550=>"CB000006681",562=>"",575=>"Error",610=>""),
                "RAL3000"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL7016"=>array(385=>"",475=>"147058",500=>"CB000006659",525=>"CB000005373",530=>"",550=>"CB000005355",562=>"",575=>"147059",610=>""),
                "ZEBRA"=>array(385=>"",475=>"CB000004560",500=>"CB000006653",525=>"CB000005372",530=>"",550=>"CB000005354",562=>"",575=>"CB000004561",610=>""),
                "GOLDEN OAK"=>array(385=>"",475=>"122236",500=>"132849",525=>"CB000005368",530=>"",550=>"CB000005350",562=>"",575=>"122238",610=>""),
                "MAHAGONY"=>array(385=>"",475=>"137672",500=>"141312",525=>"CB000005370",530=>"",550=>"CB000005352",562=>"",575=>"137677",610=>""),
                "WENGE"=>array(385=>"",475=>"137670",500=>"141311",525=>"CB000005371",530=>"",550=>"CB000005353",562=>"",575=>"137675",610=>""),
                "ALDER"=>array(385=>"",475=>"137972",500=>"141310",525=>"CB000005365",530=>"",550=>"CB000005347",562=>"",575=>"137977",610=>""),
                "FOREST WALNUT"=>array(385=>"",475=>"137669",500=>"141313",525=>"CB000005367",530=>"",550=>"CB000005349",562=>"",575=>"137673",610=>""),
                "DARK OAK"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "НЕСТАНДАРТ"=>array(385=>"",475=>"Error",500=>"Error",525=>"Error",530=>"",550=>"Error",562=>"",575=>"Error",610=>""),
            ),
        ),
        'С широкой центральной полосой' => array(
            'Под дерево' => array(
                "RAL9003"       => array(385=>"",475=>"CB000158180",500=>"CB000158181",525=>"CB000158183",530=>"",550=>"CB000158184",562=>"",575=>"CB000158185",610=>""),
                "RAL9010"       => array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL8014"       => array(385=>"",475=>"CB000158935",500=>"CB000158936",525=>"CB000158932",530=>"",550=>"CB000158938",562=>"",575=>"CB000158218",610=>""),
                "RAL8017"       => array(385=>"",475=>"CB000159044",500=>"CB000159045",525=>"CB000159046",530=>"",550=>"CB000159047",562=>"",575=>"CB000159048",610=>""),
                "RAL3005"       => array(385=>"",475=>"CB000158211",500=>"CB000158210",525=>"CB000158209",530=>"",550=>"CB000158216",562=>"",575=>"CB000158208",610=>""),
                "RAL6005"       => array(385=>"",475=>"CB000158212",500=>"CB000158213",525=>"CB000158214",530=>"",550=>"CB000158215",562=>"",575=>"CB000158217",610=>""),
                "RAL5005"       => array(385=>"",475=>"CB000159055",500=>"CB000158213",525=>"CB000159057",530=>"",550=>"CB000159519",562=>"",575=>"CB000159520",610=>""),
                "RAL1014"       => array(385=>"",475=>"CB000158179",500=>"CB000158178",525=>"CB000158176",530=>"",550=>"CB000158175",562=>"",575=>"CB000158174",610=>""),
                "RAL9006"       => array(385=>"",475=>"CB000159554",500=>"CB000158181",525=>"CB000159552",530=>"",550=>"CB000159535",562=>"",575=>"CB000159530",610=>""),
                "RAL7004"       => array(385=>"",475=>"CB000159555",500=>"CB000158210",525=>"CB000159567",530=>"",550=>"CB000159568",562=>"",575=>"CB000159569",610=>""),
                "3000"          => array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3000"       => array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL7016"       => array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "ZEBRA"         => array(385=>"",475=>"CB000159634",500=>"CB000159635",525=>"CB000159640",530=>"",550=>"CB000159641",562=>"",575=>"CB000159642",610=>""),
                "GOLDEN OAK"    => array(385=>"",475=>"CB000159575",500=>"CB000159574",525=>"CB000159573",530=>"",550=>"CB000159571",562=>"",575=>"CB000159570",610=>""),
                "MAHAGONY"      => array(385=>"",475=>"CB000159605",500=>"CB000159606",525=>"CB000159607",530=>"",550=>"CB000159609",562=>"",575=>"CB000159611",610=>""),
                "WENGE"         => array(385=>"",475=>"CB000159585",500=>"CB000159586",525=>"CB000159587",530=>"",550=>"CB000159595",562=>"",575=>"CB000159597",610=>""),
                "ALDER"         => array(385=>"",475=>"CB000159633",500=>"CB000159632",525=>"CB000159630",530=>"",550=>"CB000159613",562=>"",575=>"CB000159612",610=>""),
                "FOREST WALNUT" => array(385=>"",475=>"CB000159584",500=>"CB000159583",525=>"CB000159582",530=>"",550=>"CB000159581",562=>"",575=>"CB000159580",610=>""),
                "DARK OAK"      => array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "НЕСТАНДАРТ"    => array(385=>"",475=>"CB000197429",500=>"",525=>"CB000186739",530=>"",550=>"CB000186740",562=>"",575=>"CB000197430",610=>""),
            ),
        ),
        'Доска' => array(
            'Под дерево' => array(
                "RAL9003"       => array(385=>"",475=>"CB000224570",500=>"CB000225570",525=>"CB000224435",530=>"",550=>"CB000223905",562=>"",575=>"CB000224197",610=>""),
                "RAL9010"       => array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL8014"       => array(385=>"",475=>"CB000225250",500=>"CB000225573",525=>"CB000224434",530=>"",550=>"CB000224244",562=>"",575=>"CB000224196",610=>""),
                "RAL8017"       => array(385=>"",475=>"CB000225257",500=>"CB000225574",525=>"CB000225582",530=>"",550=>"CB000225209",562=>"",575=>"CB000225239",610=>""),
                "RAL3005"       => array(385=>"",475=>"CB000225253",500=>"CB000225571",525=>"CB000225585",530=>"",550=>"CB000224241",562=>"",575=>"CB000224193",610=>""),
                "RAL6005"       => array(385=>"",475=>"CB000224094",500=>"CB000225572",525=>"CB000225581",530=>"",550=>"CB000224239",562=>"",575=>"CB000224191",610=>""),
                "RAL5005"       => array(385=>"",475=>"CB000225251",500=>"CB000225575",525=>"CB000225587",530=>"",550=>"CB000224240",562=>"",575=>"CB000224192",610=>""),
                "RAL1014"       => array(385=>"",475=>"CB000225255",500=>"CB000225569",525=>"CB000225584",530=>"",550=>"CB000225208",562=>"",575=>"CB000225238",610=>""),
                "RAL9006"       => array(385=>"",475=>"CB000225254",500=>"CB000225576",525=>"CB000225588",530=>"",550=>"CB000224242",562=>"",575=>"CB000224194",610=>""),
                "RAL7004"       => array(385=>"",475=>"CB000225256",500=>"CB000225577",525=>"CB000225589",530=>"",550=>"CB000224243",562=>"",575=>"CB000224195",610=>""),
                "3000"          => array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3000"       => array(385=>"",475=>"CB000225563",500=>"CB000225578",525=>"CB000225590",530=>"",550=>"CB000225595",562=>"",575=>"CB000225600",610=>""),
                "RAL7016"       => array(385=>"",475=>"CB000225258",500=>"CB000225568",525=>"CB000225583",530=>"",550=>"CB000225210",562=>"",575=>"CB000225240",610=>""),
                "ZEBRA"         => array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "GOLDEN OAK"    => array(385=>"",475=>"CB000225252",500=>"CB000225566",525=>"CB000224436",530=>"",550=>"CB000225211",562=>"",575=>"CB000225242",610=>""),
                "MAHAGONY"      => array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "WENGE"         => array(385=>"",475=>"CB000227130",500=>"CB000227200",525=>"CB000227232",530=>"",550=>"CB000227245",562=>"",575=>"CB000227259",610=>""),
                "ALDER"         => array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "FOREST WALNUT" => array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "DARK OAK"      => array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "НЕСТАНДАРТ"    => array(385=>"",475=>"CB000225606",500=>"CB000225607",525=>"CB000225608",530=>"",550=>"CB000225609",562=>"",575=>"CB000225610",610=>""),
            ),
        ),
    );
    
    public $list2 = array(
        'Стандартная' => array(
            'Гладкая' => array("RAL9003"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL9010"=>array(385=>"",475=>"",500=>"CB000000575",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000574"),
                "RAL8014"=>array(385=>"",475=>"",500=>"CB000000578",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000579"),
                "RAL8017"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3005"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL6005"=>array(385=>"",475=>"",500=>"CB000000605",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000606"),
                "RAL5005"=>array(385=>"",475=>"",500=>"CB000000581",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000580"),
                "RAL1014"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL9006"=>array(385=>"",475=>"",500=>"CB000000136",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000573"),
                "RAL7004"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "3000"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3000"=>array(385=>"",475=>"",500=>"CB000000584",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000601"),
                "RAL7016"=>array(385=>"",475=>"",500=>"CB000000603",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000585"),
                "ZEBRA"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "GOLDEN OAK"=>array(385=>"",475=>"",500=>"CB000000587",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000588"),
                "MAHAGONY"=>array(385=>"",475=>"",500=>"CB000000596",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000595"),
                "WENGE"=>array(385=>"",475=>"",500=>"CB000000599",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000600"),
                "ALDER"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "FOREST WALNUT"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "DARK OAK"=>array(385=>"",475=>"",500=>"CB000000593",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000594"),
                "НЕСТАНДАРТ"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
            ),
            'Стукко' => array("RAL9003"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL9010"=>array(385=>"",475=>"",500=>"CB000000128",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000001058"),
                "RAL8014"=>array(385=>"",475=>"",500=>"CB000001048",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000001061"),
                "RAL8017"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3005"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL6005"=>array(385=>"",475=>"",500=>"CB000001047",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000001059"),
                "RAL5005"=>array(385=>"",475=>"",500=>"CB000001051",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000001063"),
                "RAL1014"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL9006"=>array(385=>"",475=>"",500=>"CB000001050",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000001062"),
                "RAL7004"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "3000"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3000"=>array(385=>"",475=>"",500=>"CB000001049",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000001060"),
                "RAL7016"=>array(385=>"",475=>"",500=>"CB000000140",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000001057"),
                "ZEBRA"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "GOLDEN OAK"=>array(385=>"",475=>"",500=>"CB000001043",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000001053"),
                "MAHAGONY"=>array(385=>"",475=>"",500=>"CB000001046",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000001055"),
                "WENGE"=>array(385=>"",475=>"",500=>"CB000001045",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000001056"),
                "ALDER"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "FOREST WALNUT"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "DARK OAK"=>array(385=>"",475=>"",500=>"CB000001042",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000001052"),
                "НЕСТАНДАРТ"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
            ),
            'Под дерево' => array("RAL9003"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL9010"=>array(385=>"",475=>"",500=>"140860",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"140874"),
                "RAL8014"=>array(385=>"",475=>"",500=>"CB000000902",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000912"),
                "RAL8017"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3005"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL6005"=>array(385=>"",475=>"",500=>"CB000000904",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000914"),
                "RAL5005"=>array(385=>"",475=>"",500=>"CB000000903",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000913"),
                "RAL1014"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL9006"=>array(385=>"",475=>"",500=>"CB000000906",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000916"),
                "RAL7004"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "3000"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3000"=>array(385=>"",475=>"",500=>"CB000000905",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000915"),
                "RAL7016"=>array(385=>"",475=>"",500=>"CB000000907",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000917"),
                "ZEBRA"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "GOLDEN OAK"=>array(385=>"",475=>"",500=>"140855",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"140868"),
                "MAHAGONY"=>array(385=>"",475=>"",500=>"CB000000910",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000920"),
                "WENGE"=>array(385=>"",475=>"",500=>"CB000000911",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000921"),
                "ALDER"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "FOREST WALNUT"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "DARK OAK"=>array(385=>"",475=>"",500=>"CB000000909",525=>"",530=>"",550=>"",562=>"",575=>"",610=>"CB000000918"),
                "НЕСТАНДАРТ"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
            ),
        ),
    );
    
    public $list3 = array(
        'Стандартная' => array(
            'Гладкая' => array("RAL9003"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL9010"=>array(385=>"",475=>"",500=>"CB000000489",525=>"",530=>"CB000003400",550=>"",562=>"CB000003409",575=>"",610=>"CB000000500"),
                "RAL8014"=>array(385=>"",475=>"",500=>"CB000000490",525=>"",530=>"CB000003401",550=>"",562=>"CB000003410",575=>"",610=>"CB000000501"),
                "RAL8017"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3005"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL6005"=>array(385=>"",475=>"",500=>"CB000000492",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"CB000000503"),
                "RAL5005"=>array(385=>"",475=>"",500=>"CB000000491",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"CB000000502"),
                "RAL1014"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL9006"=>array(385=>"",475=>"",500=>"CB000000494",525=>"",530=>"CB000003402",550=>"",562=>"CB000003411",575=>"",610=>"CB000000505"),
                "RAL7004"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "3000"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3000"=>array(385=>"",475=>"",500=>"CB000000493",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"CB000000504"),
                "RAL7016"=>array(385=>"",475=>"",500=>"CB000000495",525=>"",530=>"CB000003399",550=>"",562=>"CB000003407",575=>"",610=>"CB000000506"),
                "ZEBRA"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "GOLDEN OAK"=>array(385=>"",475=>"",500=>"142209",525=>"",530=>"CB000003395",550=>"",562=>"CB000003380",575=>"",610=>"CB000000507"),
                "MAHAGONY"=>array(385=>"",475=>"",500=>"CB000000498",525=>"",530=>"CB000003397",550=>"",562=>"CB000003387",575=>"",610=>"CB000000510"),
                "WENGE"=>array(385=>"",475=>"",500=>"CB000000499",525=>"",530=>"CB000003398",550=>"",562=>"CB000003388",575=>"",610=>"CB000000511"),
                "ALDER"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "FOREST WALNUT"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "DARK OAK"=>array(385=>"",475=>"",500=>"CB000000497",525=>"",530=>"CB000003394",550=>"",562=>"CB000003404",575=>"",610=>"CB000000509"),
                "НЕСТАНДАРТ"=>array(385=>"",475=>"",500=>"Error",525=>"",530=>"Error",550=>"",562=>"",575=>"",610=>""),
            ),
            'Стукко' => array("RAL9003"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL9010"=>array(385=>"",475=>"",500=>"141986",525=>"",530=>"CB000003372",550=>"",562=>"CB000003374",575=>"",610=>"CB000000109"),
                "RAL8014"=>array(385=>"",475=>"",500=>"142032",525=>"",530=>"CB000003373",550=>"",562=>"CB000003375",575=>"",610=>"CB000000400"),
                "RAL8017"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3005"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL6005"=>array(385=>"",475=>"",500=>"CB000000168",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"CB000000398"),
                "RAL5005"=>array(385=>"",475=>"",500=>"141018",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"CB000000401"),
                "RAL1014"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL9006"=>array(385=>"",475=>"",500=>"142009",525=>"",530=>"CB000003376",550=>"",562=>"CB000003391",575=>"",610=>"CB000000399"),
                "RAL7004"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "3000"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3000"=>array(385=>"",475=>"",500=>"CB000000402",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"CB000000403"),
                "RAL7016"=>array(385=>"",475=>"",500=>"142010",525=>"",530=>"CB000003377",550=>"",562=>"CB000003389",575=>"",610=>"141032"),
                "ZEBRA"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "GOLDEN OAK"=>array(385=>"",475=>"",500=>"142033",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"CB000000406"),
                "MAHAGONY"=>array(385=>"",475=>"",500=>"CB000000396",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"CB000000405"),
                "WENGE"=>array(385=>"",475=>"",500=>"CB000000397",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"CB000000404"),
                "ALDER"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "FOREST WALNUT"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "DARK OAK"=>array(385=>"",475=>"",500=>"CB000000395",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"141040"),
                "НЕСТАНДАРТ"=>array(385=>"",475=>"",500=>"Error",525=>"",530=>"Error",550=>"",562=>"",575=>"",610=>""),
            ),
            'Под дерево' => array("RAL9003"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL9010"=>array(385=>"",475=>"",500=>"141986",525=>"",530=>"CB000003372",550=>"",562=>"CB000003374",575=>"",610=>"CB000000109"),
                "RAL8014"=>array(385=>"",475=>"",500=>"142034",525=>"",530=>"CB000003415",550=>"",562=>"CB000003424",575=>"",610=>"CB000000770"),
                "RAL8017"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3005"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL6005"=>array(385=>"",475=>"",500=>"CB000000759",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"CB000000772"),
                "RAL5005"=>array(385=>"",475=>"",500=>"CB000000758",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"CB000000771"),
                "RAL1014"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL9006"=>array(385=>"",475=>"",500=>"142011",525=>"",530=>"CB000003416",550=>"",562=>"CB000003425",575=>"",610=>"CB000000774"),
                "RAL7004"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "3000"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "RAL3000"=>array(385=>"",475=>"",500=>"CB000000760",525=>"",530=>"Error",550=>"",562=>"Error",575=>"",610=>"CB000000773"),
                "RAL7016"=>array(385=>"",475=>"",500=>"142012",525=>"",530=>"CB000003413",550=>"",562=>"CB000003412",575=>"",610=>"CB000000775"),
                "ZEBRA"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "GOLDEN OAK"=>array(385=>"",475=>"",500=>"142035",525=>"",530=>"CB000003418",550=>"",562=>"CB000003385",575=>"",610=>"CB000000765"),
                "MAHAGONY"=>array(385=>"",475=>"",500=>"CB000000763",525=>"",530=>"CB000003382",550=>"",562=>"CB000003420",575=>"",610=>"CB000000152"),
                "WENGE"=>array(385=>"",475=>"",500=>"CB000000764",525=>"",530=>"CB000003383",550=>"",562=>"CB000003421",575=>"",610=>"CB000000768"),
                "ALDER"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "FOREST WALNUT"=>array(385=>"",475=>"",500=>"",525=>"",530=>"",550=>"",562=>"",575=>"",610=>""),
                "DARK OAK"=>array(385=>"",475=>"",500=>"CB000000762",525=>"",530=>"CB000003379",550=>"",562=>"CB000003384",575=>"",610=>"CB000000767"),
                "НЕСТАНДАРТ"=>array(385=>"",475=>"",500=>"Error",525=>"",530=>"Error",550=>"",562=>"",575=>"",610=>""),
                "RAL9010"=>array(385=>"",475=>"",500=>"141987",525=>"",530=>"CB000003414",550=>"",562=>"CB000003423",575=>"",610=>"CB000000769"),
            ),
        ),
    );
    
    /**
     * Алгоритм
     * 
     * @return bool
     */
    public function Algorithm()
    {
        $this->infoArray = array();
        $modal = array();
        //Типоразмеры панорамных панелей    
        $this->PanPanelSizes = array(385, 475, 500, 525, 530, 550, 562, 575, 610);
        //Значения по умолчанию    
        $PanPanelCodes = array();
        foreach ($this->PanPanelSizes as $PanelSize) {
            $PanPanelCodes[$PanelSize] = '';
        }   
        
        $this->ErrCheckSendPanel = 0;
        
        //Только если в щите есть сэндвич панели    
        if (!$this->PanoramicPanel || $this->PanShieldType == "Полностью из панорамных"){
            //Завершить работу алгоритма    
            return true;
        }
        //Выбираем таблицу
        $PanPanelsTable = array();
        if ($this->PanComplectationType == 'Без защиты от защемления' && $this->RegionEurope == 0) {
            $PanPanelsTable = $this->list1;
        } else if ($this->PanComplectationType == 'Без защиты от защемления' && $this->RegionEurope == 1) {
            $PanPanelsTable = $this->list2;
        } else if ($this->PanComplectationType == 'С защитой от защемления') {
            $PanPanelsTable = $this->list3;
        }
        //Перебираем все типоразмеры
        $PanPanelCodes = array();
        
        //перебираем необходимые типоразмеры верхних сендвич панелей для раскроя
        $AvailableSizes = array();
        
        //перебираем необходимые типоразмеры нижних сендвич панелей для раскроя
        $AvailableSizesBottom = array();
        
        //Заданы типоразмеры верхних панелей
        if ($this->PanSettingType == "Высоту из сэндвича") {
            $AvailableSizes = explode('+', (string)$this->PanPanelType);
        }
        //Заданы типоразмеры нижних панелей
        if ($this->PanBottomSettingType == "Высоту из сэндвича") {
            $AvailableSizesBottom = explode('+', (string)$this->PanPanelType);
        }
        //Задано Количество верхних сэндвич панелей                                       
        if ($this->PanSettingType == 'Кол-во панелей') {
            $AvailableSizes[] = $this->PanPanelType;
        }
        //Задано Количество нижних сэндвич панелей
        if ($this->PanBottomSettingType == 'Кол-во панелей') {
           $AvailableSizesBottom[] = $this->PanBottomPanelType;
        }
        $resultSizes = array_merge($AvailableSizes, $AvailableSizesBottom);
        
        foreach ($this->PanPanelSizes as $PanelSize) {
            //Выбираем код панели по дизайну, по структуре, цвету и типоразмеру
            
            //$Panel = $PanPanelsTable[$this->PanSandwichType][$this->PanSandwichColor][$PanelSize];
            //$Panel = $PanPanelsTable[$this->PanSandwichDesign][$this->PanSandwichType][$this->PanSandwichColor][$PanelSize];
            $Panel = "Error";
            if(isset($PanPanelsTable[$this->PanSandwichDesign])){
                if(isset($PanPanelsTable[$this->PanSandwichDesign][$this->PanSandwichType])){
                    if(isset($PanPanelsTable[$this->PanSandwichDesign][$this->PanSandwichType][$this->PanSandwichColor])){
                        if(isset($PanPanelsTable[$this->PanSandwichDesign][$this->PanSandwichType][$this->PanSandwichColor][$PanelSize])){
                            $Panel = $PanPanelsTable[$this->PanSandwichDesign][$this->PanSandwichType][$this->PanSandwichColor][$PanelSize];
                        }
                    }
                }
            }
            
            
            /*if (empty($Panel)) {
                $this->ErrCheckSendPanel = 1;
                $Panel = "Error";
            }*/
            //смотрим верхние сендвич панели
            foreach ($resultSizes as $Size) {
                //Панель с данными параметрами не была внесена в программу    
                if (($Panel == "Error" || $Panel == null) && ($PanelSize == $Size)) {
                    //Выдать предупреждение "Данная панель не была представлена для внесения в программу. Обратитесь к руководителю направления."
                    $loc1 = Yii::app()->container->Loc(110098);
                    $loc2 = Yii::app()->container->Loc(464004);
                    $this->infoArray[] = "{$loc1}. {$loc2}.";
                    $this->ErrCheckSendPanel = 1;
                    $PanPanelCodes[$PanelSize] = $Panel;
                } else {
                    $PanPanelCodes[$PanelSize] = $Panel;
                }
            }
            
        }
        //Есть верхние сэндвич панели и самая верхняя подрезана    
        if ($this->SandTopCount > 0 && $this->SandTopPanelCut > 0 && array_key_exists($this->SandWholeTopPanel, $PanPanelCodes)) {
            $this->SendTopCode = $PanPanelCodes[$this->SandWholeTopPanel];
        } else {
            $this->SendTopCode = 0;
        }
        //Есть нижние сэндвич панели и самая нижняя подрезана
        if ($this->SandBottomCount > 0 && $this->SandBottomPanelCut > 0 && array_key_exists($this->SandWholeBottomPanel, $PanPanelCodes)) {
            $this->SendBottomCode = $PanPanelCodes[$this->SandWholeBottomPanel];
        } else {
            $this->SendBottomCode = 0;
        }
        $this->PanPanelCodes = $PanPanelCodes;
        
        return true;
    }

    /**
     * Название модуля
     * 
     * @return string
     */
    public function getTitle()
    {
        return 'Выбор панорамных панелей';
    }

}
